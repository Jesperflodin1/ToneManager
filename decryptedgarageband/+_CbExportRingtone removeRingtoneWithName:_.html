<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
<title>IDA - MobileGarageBand.i64 (MobileGarageBand) /Users/jesper/Documents/Projects/Tweaks/tonehelper/decryptedgarageband/MobileGarageBand.i64</title>
</head>
<body bgcolor="#ffffff">
<span style="white-space: pre; font-family: Courier; color: blue; background: #ffffff">

<span style="background:#f0ffee"><span style="color:navy">void __cdecl +[CbExportRingtone removeRingtoneWithName:](CbExportRingtone_meta *self, SEL a2, id a3)</span></span>
<span style="background:#f0ffee"><span style="color:navy">{                                                                            </span></span>
<span style="background:#f0ffee">  <span style="color:navy">CbExportRingtone_meta *selfPtr; // </span><span style="color:#8080ff">x22                                     </span></span>
<span style="background:#f0ffee">  <span style="color:navy">__int64 toneName; // </span><span style="color:#8080ff">x19                                                   </span></span>
<span style="background:#f0ffee">  <span style="color:gray">void *v5</span><span style="color:navy">; </span><span style="color:gray">// </span><span style="color:#8080ff">x0                                                            </span></span>
<span style="background:#f0ffee">  <span style="color:gray">void *localRingtoneInfo</span><span style="color:navy">; </span><span style="color:gray">// </span><span style="color:#8080ff">x0                                             </span></span>
<span style="background:#f0ffee">  <span style="color:gray">void *selfLocalRingtoneInfo</span><span style="color:navy">; </span><span style="color:gray">// </span><span style="color:#8080ff">x20                                        </span></span>
<span style="background:#f0ffee">  <span style="color:gray">void *v8</span><span style="color:navy">; </span><span style="color:gray">// </span><span style="color:#8080ff">x0                                                            </span></span>
<span style="background:#f0ffee">  <span style="color:gray">void *v9</span><span style="color:navy">; </span><span style="color:gray">// </span><span style="color:#8080ff">x0                                                            </span></span>
<span style="background:#f0ffee">  <span style="color:gray">void *v10</span><span style="color:navy">; </span><span style="color:gray">// </span><span style="color:#8080ff">x23                                                          </span></span>
<span style="background:#f0ffee">  <span style="color:gray">void *v11</span><span style="color:navy">; </span><span style="color:gray">// </span><span style="color:#8080ff">x0                                                           </span></span>
<span style="background:#f0ffee">  <span style="color:navy">__int64 toneIdentifier; // </span><span style="color:#8080ff">x21                                             </span></span>
<span style="background:#f0ffee">  <span style="color:gray">void *TLToneManagerSharedInstance</span><span style="color:navy">; </span><span style="color:gray">// </span><span style="color:#8080ff">x0                                   </span></span>
<span style="background:#f0ffee">  <span style="color:gray">void *v14</span><span style="color:navy">; </span><span style="color:gray">// </span><span style="color:#8080ff">x23                                                          </span></span>
<span style="background:#f0ffee">  <span style="color:gray">void *TLToneManager</span><span style="color:navy">; </span><span style="color:gray">// </span><span style="color:#8080ff">x23                                                </span></span>
<span style="background:#f0ffee">  <span style="color:gray">void *v16</span><span style="color:navy">; </span><span style="color:gray">// </span><span style="color:#8080ff">x0                                                           </span></span>
<span style="background:#f0ffee">  <span style="color:navy">__int64 v17; // </span><span style="color:#8080ff">x22                                                        </span></span>
<span style="background:#f0ffee">  <span style="color:gray">void *v18</span><span style="color:navy">; </span><span style="color:gray">// </span><span style="color:#8080ff">x0                                                           </span></span>
<span style="background:#f0ffee">  <span style="color:gray">void *v19</span><span style="color:navy">; </span><span style="color:gray">// </span><span style="color:#8080ff">x24                                                          </span></span>
<span style="background:#f0ffee">                                                                             </span>
<span style="background:#f0ffee">  <span style="color:#8080ff">selfPtr </span><span style="color:navy">= </span><span style="color:#8080ff">self</span><span style="color:navy">;                                                            </span></span>
<span style="background:#f0ffee">  <span style="color:#8080ff">toneName </span><span style="color:navy">= </span>objc_retain<span style="color:navy">(</span><span style="color:#8080ff">a3</span><span style="color:navy">, </span><span style="color:#8080ff">a2</span><span style="color:navy">);                                            </span></span>
<span style="background:#f0ffee">  <span style="color:#8080ff">v5 </span><span style="color:navy">= </span>objc_msgSend<span style="color:navy">(</span><span style="color:#8080ff">selfPtr</span><span style="color:navy">, &quot;</span><span style="color:green">localRingtoneInfo&quot;</span><span style="color:navy">);                           </span></span>
<span style="background:#f0ffee">  <span style="color:#8080ff">localRingtoneInfo </span><span style="color:navy">= (</span><span style="color:gray">void *</span><span style="color:navy">)</span>objc_retainAutoreleasedReturnValue<span style="color:navy">(</span><span style="color:#8080ff">v5</span><span style="color:navy">);        </span></span>
<span style="background:#f0ffee">  <span style="color:#8080ff">selfLocalRingtoneInfo </span><span style="color:navy">= </span><span style="color:#8080ff">localRingtoneInfo</span><span style="color:navy">;                                 </span></span>
<span style="background:#f0ffee">  <span style="color:#8080ff">v8 </span><span style="color:navy">= </span>objc_msgSend<span style="color:navy">(</span><span style="color:#8080ff">localRingtoneInfo</span><span style="color:navy">, &quot;</span><span style="color:green">objectForKey:&quot;</span><span style="color:navy">, </span><span style="color:#8080ff">toneName</span><span style="color:navy">);           </span></span>
<span style="background:#f0ffee">  <span style="color:#8080ff">v9 </span><span style="color:navy">= (</span><span style="color:gray">void *</span><span style="color:navy">)</span>objc_retainAutoreleasedReturnValue<span style="color:navy">(</span><span style="color:#8080ff">v8</span><span style="color:navy">);                       </span></span>
<span style="background:#f0ffee">  <span style="color:#8080ff">v10 </span><span style="color:navy">= </span><span style="color:#8080ff">v9</span><span style="color:navy">;                                                                  </span></span>
<span style="background:#f0ffee">  <span style="color:#8080ff">v11 </span><span style="color:navy">= </span>objc_msgSend<span style="color:navy">(</span><span style="color:#8080ff">v9</span><span style="color:navy">, &quot;</span><span style="color:green">objectForKey:&quot;</span><span style="color:navy">, </span><span style="color:green">CFSTR(&quot;Identifier&quot;)</span><span style="color:navy">);              </span></span>
<span style="background:#f0ffee">  <span style="color:#8080ff">toneIdentifier </span><span style="color:navy">= </span>objc_retainAutoreleasedReturnValue<span style="color:navy">(</span><span style="color:#8080ff">v11</span><span style="color:navy">);                  </span></span>
<span style="background:#f0ffee">  objc_release<span style="color:navy">(</span><span style="color:#8080ff">v10</span><span style="color:navy">);                                                         </span></span>
<span style="background:#f0ffee">  <span style="color:navy">if ( </span><span style="color:#8080ff">toneIdentifier </span><span style="color:navy">)                                                      </span></span>
<span style="background:#f0ffee">  <span style="color:navy">{                                                                          </span></span>
<span style="background:#f0ffee">    <span style="color:#8080ff">TLToneManagerSharedInstance </span><span style="color:navy">= </span>objc_msgSend<span style="color:navy">(</span><span style="color:#8080ff">selfPtr</span><span style="color:navy">, &quot;</span><span style="color:green">toneManagerClass&quot;</span><span style="color:navy">); </span></span>
<span style="background:#f0ffee">    <span style="color:#8080ff">v14 </span><span style="color:navy">= </span><span style="color:#8080ff">TLToneManagerSharedInstance</span><span style="color:navy">;                                       </span></span>
<span style="background:#f0ffee">    <span style="color:navy">if ( </span><span style="color:#8080ff">TLToneManagerSharedInstance </span><span style="color:navy">)                                       </span></span>
<span style="background:#f0ffee">    <span style="color:navy">{                                                                        </span></span>
<span style="background:#f0ffee">      <span style="color:navy">if ( (</span><span style="color:gray">unsigned int</span><span style="color:navy">)</span>objc_msgSend<span style="color:navy">(                                       </span></span>
<span style="background:#f0ffee">                           <span style="color:#8080ff">TLToneManagerSharedInstance</span><span style="color:navy">,                      </span></span>
<span style="background:#f0ffee">                           &quot;<span style="color:green">instancesRespondToSelector:&quot;</span><span style="color:navy">,                    </span></span>
<span style="background:#f0ffee">                           &quot;<span style="color:green">removeImportedToneWithIdentifier:&quot;</span><span style="color:navy">) )            </span></span>
<span style="background:#f0ffee">      <span style="color:navy">{                                                                      </span></span>
<span style="background:#f0ffee">        <span style="color:#8080ff">TLToneManager </span><span style="color:navy">= </span>objc_msgSend<span style="color:navy">(</span><span style="color:#8080ff">v14</span><span style="color:navy">, &quot;</span><span style="color:green">new&quot;</span><span style="color:navy">);                            </span></span>
<span style="background:#f0ffee">        objc_msgSend<span style="color:navy">(</span><span style="color:#8080ff">TLToneManager</span><span style="color:navy">, &quot;</span><span style="color:green">removeImportedToneWithIdentifier:&quot;</span><span style="color:navy">, </span><span style="color:#8080ff">toneIdentifier</span><span style="color:navy">);</span></span>
<span style="background:#f0ffee">        objc_msgSend<span style="color:navy">(</span><span style="color:#8080ff">selfLocalRingtoneInfo</span><span style="color:navy">, &quot;</span><span style="color:green">removeObjectForKey:&quot;</span><span style="color:navy">, </span><span style="color:#8080ff">toneName</span><span style="color:navy">);</span></span>
<span style="background:#f0ffee">        <span style="color:#8080ff">v16 </span><span style="color:navy">= </span>objc_msgSend<span style="color:navy">(</span><span style="color:#8080ff">selfPtr</span><span style="color:navy">, &quot;</span><span style="color:green">localRingtonesInfoPath&quot;</span><span style="color:navy">);               </span></span>
<span style="background:#f0ffee">        <span style="color:#8080ff">v17 </span><span style="color:navy">= </span>objc_retainAutoreleasedReturnValue<span style="color:navy">(</span><span style="color:#8080ff">v16</span><span style="color:navy">);                       </span></span>
<span style="background:#f0ffee">        <span style="color:#8080ff">v18 </span><span style="color:navy">= </span>objc_msgSend<span style="color:navy">(&amp;</span><span style="color:#ff00ff">OBJC_CLASS___NSFileManager</span><span style="color:navy">, &quot;</span><span style="color:green">defaultManager&quot;</span><span style="color:navy">);   </span></span>
<span style="background:#f0ffee">        <span style="color:#8080ff">v19 </span><span style="color:navy">= (</span><span style="color:gray">void *</span><span style="color:navy">)</span>objc_retainAutoreleasedReturnValue<span style="color:navy">(</span><span style="color:#8080ff">v18</span><span style="color:navy">);               </span></span>
<span style="background:#f0ffee">        objc_msgSend<span style="color:navy">(</span><span style="color:#8080ff">v19</span><span style="color:navy">, &quot;</span><span style="color:green">removeItemAtPath:error:&quot;</span><span style="color:navy">, </span><span style="color:#8080ff">v17</span><span style="color:navy">, 0LL);              </span></span>
<span style="background:#f0ffee">        objc_release<span style="color:navy">(</span><span style="color:#8080ff">v19</span><span style="color:navy">);                                                   </span></span>
<span style="background:#f0ffee">        objc_msgSend<span style="color:navy">(</span><span style="color:#8080ff">selfLocalRingtoneInfo</span><span style="color:navy">, &quot;</span><span style="color:green">writeToFile:atomically:&quot;</span><span style="color:navy">, </span><span style="color:#8080ff">v17</span><span style="color:navy">, 1LL);</span></span>
<span style="background:#f0ffee">        objc_release<span style="color:navy">(</span><span style="color:#8080ff">v17</span><span style="color:navy">);                                                   </span></span>
<span style="background:#f0ffee">        objc_release<span style="color:navy">(</span><span style="color:#8080ff">TLToneManager</span><span style="color:navy">);                                         </span></span>
<span style="background:#f0ffee">      </span><span style="background:navy"></span><span style="background:#f0ffee"><span style="color:navy">}                                                                      </span></span>
<span style="background:#f0ffee">    </span><span style="background:blue"></span><span style="background:#f0ffee"><span style="color:navy">}                                                                        </span></span>
<span style="background:#f0ffee">  </span><span style="background:blue"></span><span style="background:#f0ffee"><span style="color:navy">}                                                                          </span></span>
<span style="background:#f0ffee">  objc_release<span style="color:navy">(</span><span style="color:#8080ff">toneIdentifier</span><span style="color:navy">);                                              </span></span>
<span style="background:#f0ffee">  objc_release<span style="color:navy">(</span><span style="color:#8080ff">selfLocalRingtoneInfo</span><span style="color:navy">);                                       </span></span>
<span style="background:#f0ffee">  objc_release<span style="color:navy">(</span><span style="color:#8080ff">toneName</span><span style="color:navy">);                                                    </span></span>
<span style="background:#f0ffee"></span><span style="background:navy"></span><span style="background:#f0ffee"><span style="color:navy">}                                                                            </span></span>
</span></body></html>
